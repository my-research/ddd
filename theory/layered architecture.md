# Layered Architecture

- 오직 같은 계층에 존재하는 요소나 아래 계층에 위치한 요소만 의존한다는 원칙
- 각각의 레이어간의 서로 계약관계에만 의존함
- 핵심은 도메인 레이어를 분리하는 것임
  - 도메인 레이어가 분리되어야 모델 주도 개발이 가능함
- 계층
  - 표현
    - 사용자에게 정보를 보여주거나, 다른 시스템의 외부 행위자
  - 응용
    - 얇게 유지되어야 한다
    - 비즈니스 규칙이나 도메인 지식이 포함되지 않는다.
    - 도메인 객체들을 orchestration
    - 프로그램의 진행 상황들을 나열
  - 도메인
    - 비즈니스와 연관된 객체들이 존재
    - 기술 세부적 사항은 인프라스트럭처에게 위임
    - 상태를 제어하고 사용함
  - 인프라스트럭처
    - 상위 계층을 지원하는 일반화된 기술적 기능을 제공
    - 메시지 전송, 영속화 등이 존재
    - 도메인 레이어와 분리하는 이유는 계층이 각각 다른 속도로 발전해서 각기 다른 요구에 대처하기 때문
      - 변경의 요구사항이 다르기 때문
      - 인프라는 기술적 요구사항(성능, 트래픽, 메모리)
      - 도메인은 비즈니스 요구사항(프로모션, 정책 변경)